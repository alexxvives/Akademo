#:schema node_modules/wrangler/config-schema.json
name = "akademo"
main = ".open-next/worker.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

[observability]
enabled = false

# Assets configuration
[assets]
directory = ".open-next/assets"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "akademo-db"
database_id = "65c2951c-acf6-4c1d-8810-4c3d6be18767"

# R2 Storage for documents only (videos go to Bunny Stream)
[[r2_buckets]]
binding = "STORAGE"
bucket_name = "akademo-storage"

[vars]
STORAGE_TYPE = "r2"
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY = "pk_test_51Sr91MGnG2OZ2dGGUw3ObiVNKVVFUmbvmckFtbpjQK7KRHb8M1xUayFK8QcURcUFLBcEhux80JZPQsb7z6X91ANZ00ApZwt376"

# API Worker URL (for frontend to call backend)
NEXT_PUBLIC_API_URL = "https://akademo-api.alexxvives.workers.dev"

# Bunny Stream for video hosting
BUNNY_STREAM_LIBRARY_ID = "571240"
BUNNY_STREAM_API_KEY = "93fa73e5-fd14-4d81-b3431ad52c89-f75a-452a"
BUNNY_STREAM_CDN_HOSTNAME = "vz-bb8d111e-8eb.b-cdn.net"
BUNNY_STREAM_TOKEN_KEY = "5ca828dd-a4ec-45c8-a945-61a6a1bd96f4"

# Zoom credentials (for webhook API calls)
# These are set via `wrangler secret put` for security:
# ZOOM_ACCOUNT_ID
# ZOOM_CLIENT_ID  
# ZOOM_CLIENT_SECRET
# ZOOM_WEBHOOK_SECRET
